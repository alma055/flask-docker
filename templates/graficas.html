{% extends "base.html" %}
{% block title %}Estadisticas{% endblock %}
{% block content %}
<div class="pagetitle">
  <h1>Estadisticas de popularidad</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/index">Home</a></li>
      <li class="breadcrumb-item active">Popularidad</li>
    </ol>
  </nav>
</div><!-- End Page Title -->

<section class="section dashboard">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Popularidad de candidatos</h5>

          <!-- Bar Chart -->
          <div id="barChart" data-valores="{{ valores }}" data-categorias="{{ categorias }}">

          <script>
            document.addEventListener("DOMContentLoaded", () => {
              const valores = JSON.parse(document.querySelector("#barChart").dataset.valores);
              const categorias = JSON.parse(document.querySelector("#barChart").dataset.categorias);
          
              new ApexCharts(document.querySelector("#barChart"), {
                series: [{
                  data: valores
                }],
                chart: {
                  type: 'bar',
                  height: 700
                },
                plotOptions: {
                  bar: {
                    borderRadius: 4,
                    horizontal: true,
                  }
                },
                dataLabels: {
                  enabled: false
                },
                xaxis: {
                  categories: categorias,
                }
              }).render();
            });
          </script>
          <!-- End Bar Chart -->
        </div>

        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}